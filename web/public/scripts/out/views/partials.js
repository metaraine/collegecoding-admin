// Generated by CoffeeScript 1.4.0
(function() {

  client.partials.Footer = Backbone.View.extend({
    build: function() {
      return [
        'fragment', [
          ['hr'], ['footer', []], [
            '#client-search.modal.hide.fade', {
              role: 'dialog'
            }, [
              ['.modal-header', [['h3', 'Find a client']]], [
                '.modal-body', [
                  [
                    'p input.search-box', {
                      type: 'textbox',
                      placeholder: 'Enter client\'s name'
                    }
                  ]
                ]
              ], [
                '.modal-footer', [
                  [
                    'button.btn', {
                      'data-dismiss': 'modal'
                    }, 'Close'
                  ], ['button.btn.btn-primary', 'Search']
                ]
              ]
            ]
          ]
        ]
      ];
    }
  });

  client.partials.Header = Backbone.View.extend({
    build: function() {
      return [
        'header', [
          [
            '.masthead', [
              [
                'h3 a.muted', {
                  href: '/'
                }, 'College Coding Admin'
              ]
            ]
          ], ['hr']
        ]
      ];
    }
  });

  $(function() {
    var searchBuffer, startCapturing;
    startCapturing = false;
    searchBuffer = '';
    return $(document).bind('keypress', function(e) {
      var char;
      char = String.fromCharCode(e.keyCode);
      if (char === '/') {
        if (startCapturing && searchBuffer === '') {
          return location.href = '/';
        } else {
          searchBuffer = '';
          startCapturing = true;
          return $('#client-search').modal().on('shown', function() {
            startCapturing = false;
            return $('#client-search .search-box').focus().val(searchBuffer).keydown(function(e) {
              var name;
              if (e.keyCode === 13) {
                name = $('#client-search .search-box').val();
                return location.href = name ? '/client/' + name : '/';
              }
            });
          });
        }
      } else if (startCapturing) {
        return searchBuffer += char;
      }
    });
  });

}).call(this);
