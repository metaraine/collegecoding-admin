// Generated by CoffeeScript 1.4.0
(function() {

  client.views.index = Backbone.View.extend({
    initialize: function() {
      return this.bind('render', function() {
        var date, item, r, sessionsPerWeekChart, _i, _len, _ref, _results;
        r = new Raphael('sessions-per-day');
        sessionsPerWeekChart = r.linechart(0, 0, 700, 120, this.model.get('perDayXY7DaySum').x, [this.model.get('perDayXY7DaySum').y], {
          axis: '0 0 1 1'
        });
        _ref = sessionsPerWeekChart.axis[0].text.items;
        _results = [];
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          item = _ref[_i];
          date = new Date(parseInt(item.attr('text')));
          console.log(date);
          _results.push(item.attr('text', moment(date).format('M/DD')));
        }
        return _results;
      });
    },
    build: function() {
      return ['#page-index', [['.container-narrow', [new client.partials.Header(), ['#sessions-per-day'], ['.row-fluid.marketing', [['.span12', [['#sessions-per-day2']]]]], ['.row-fluid.marketing', [['.span4 aside', []], ['.span8', []]]], new client.partials.Footer()]]]];
    }
  });

}).call(this);
